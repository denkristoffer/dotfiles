# oh-my-zsh
# https://github.com/ohmyzsh/ohmyzsh/issues/11111#issuecomment-1686666703
ZSH_DISABLE_COMPFIX=true
DISABLE_AUTO_UPDATE=true
# DISABLE_MAGIC_FUNCTIONS=true
# DISABLE_COMPFIX=true
export ZSH="$HOME/.oh-my-zsh"
# $ZSH/themes/ and $ZSH/plugins/
# ZSH_THEME="denkristoffer"

export ZSH_COMPDUMP="${ZSH_CACHE_DIR}/.zcompdump-${SHORT_HOST}-${ZSH_VERSION}"

# Homebrew
if [[ $(sysctl -n machdep.cpu.brand_string) == "Apple M"* ]]; then
  eval "$(/opt/homebrew/bin/brew shellenv)"
else
  eval "$(/usr/local/bin/brew shellenv)"
fi

# Spaceship prompt -- https://github.com/spaceship-prompt/spaceship-prompt
source $(brew --prefix)/opt/spaceship/spaceship.zsh

# z -- https://github.com/rupa/z
source $(brew --prefix)/etc/profile.d/z.sh

# zsh-autosuggestions -- https://github.com/zsh-users/zsh-autosuggestions
source $(brew --prefix)/share/zsh-autosuggestions/zsh-autosuggestions.zsh

# zsh-history-substring-search -- https://github.com/zsh-users/zsh-history-substring-search
source $(brew --prefix)/share/zsh-history-substring-search/zsh-history-substring-search.zsh

# fnm
eval "$(fnm env)"

# thefuck
eval $(thefuck --alias fuck)

# https://github.com/ohmyzsh/ohmyzsh/issues/12328#issuecomment-2400576507
zstyle ':omz:alpha:lib:git' async-prompt force

# oh-my-zsh last to allow for plugins to use what we've set up above
source $ZSH/oh-my-zsh.sh
