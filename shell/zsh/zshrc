# https://scottspence.com/posts/speeding-up-my-zsh-shell#fixing-the-completion-system-3076--10
autoload -Uz compinit
if [ "$(date +'%j')" != "$(stat -f '%Sm' -t '%j' $ZSH_COMPDUMP 2>/dev/null)" ]; then
    compinit
else
    compinit -C
fi

# Homebrew
if [[ $(sysctl -n machdep.cpu.brand_string) == "Apple M"* ]]; then
  eval "$(/opt/homebrew/bin/brew shellenv)"
else
  eval "$(/usr/local/bin/brew shellenv)"
fi

# Spaceship prompt -- https://github.com/spaceship-prompt/spaceship-prompt
source $(brew --prefix)/opt/spaceship/spaceship.zsh

# z -- https://github.com/rupa/z
source $(brew --prefix)/etc/profile.d/z.sh

# zsh-autosuggestions -- https://github.com/zsh-users/zsh-autosuggestions
source $(brew --prefix)/share/zsh-autosuggestions/zsh-autosuggestions.zsh

# zsh-history-substring-search -- https://github.com/zsh-users/zsh-history-substring-search
source $(brew --prefix)/share/zsh-history-substring-search/zsh-history-substring-search.zsh
bindkey '^[[A' history-substring-search-up
bindkey '^[[B' history-substring-search-down

# fnm
eval "$(fnm env)"

# thefuck
eval $(thefuck --alias fck)

# zsh-syntax-highlighting -- https://github.com/zsh-users/zsh-syntax-highlighting
source $(brew --prefix)/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
